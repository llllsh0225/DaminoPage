<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="salesStausDAO">

	<select id="getCountMale" resultType="Integer">
		select count(*) from usermember where sex='M'
	</select>
	
	<select id="getCountFemale" resultType="Integer">
		select count(*) from usermember where sex='F'
	</select>
	
	<select id="getOrderPrice" resultType="Integer">
		SELECT SUM(price) FROM order_list
	</select>
	
	<select id="getMonthly" resultType="String">
		<![CDATA[
			SELECT TO_CHAR(orderdate,'yyyy-mm') 
			FROM order_list 
			GROUP BY TO_CHAR(orderdate,'yyyy-mm') 
			ORDER BY TO_CHAR(orderdate,'yyyy-mm') DESC
		]]>
	</select>
	
	<select id="getMonthlySales" resultType="String">
		<![CDATA[
			SELECT SUM(price), TO_CHAR(orderdate,'yyyy-mm') 
			FROM order_list 
			GROUP BY TO_CHAR(orderdate,'yyyy-mm') 
			ORDER BY TO_CHAR(orderdate,'yyyy-mm') DESC
		]]>
	</select>
</mapper>
